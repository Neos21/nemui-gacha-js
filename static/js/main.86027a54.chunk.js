(this["webpackJsonpnemui-gacha-js"]=this["webpackJsonpnemui-gacha-js"]||[]).push([[0],{21:function(e,t,r){e.exports=r(45)},26:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),i=r(19),s=r.n(i),o=(r(26),r(1)),c=r(4),u=r(3),l=r(2),m=r(20);function h(e){return e.replace(/(\u30AC\u30C1\u30E3|\uFF76\uFF9E\uFF81\uFF6C|\u304C\u3061\u3083)$/,"")}function p(e,t){var r=t.tokenize(e),a=[],n=r.length-1,i=r[n];if("\u5f62\u5bb9\u8a5e"===i.pos)i.surface_form.endsWith("\u3044")&&a.push({index:n,word:i.surface_form.replace(/\u3044$/,"\u304f\u306a\u3044")});else if("\u52d5\u8a5e"===i.pos)i.surface_form.match(/(\u3059|\u305A)(\u308B|\u308C)$/)?a.push({index:n,word:i.surface_form.replace(/\u3059(\u308B|\u308C)$/,"\u3059\u306a\u3044").replace(/\u305A(\u308B|\u308C)$/,"\u3058\u306a\u3044")}):"\u4e00\u6bb5"===i.conjugated_type?a.push({index:n,word:i.surface_form.replace(/\u308B$/,"\u306a\u3044")}):i.conjugated_type.startsWith("\u4e94\u6bb5")&&a.push({index:n,word:i.surface_form.replace(/\u3046$/,"\u308f").replace(/\u304F$/,"\u304b").replace(/\u3059$/,"\u3055").replace(/\u3064$/,"\u305f").replace(/\u306C$/,"\u306a").replace(/\u3075$/,"\u306f").replace(/\u3080$/,"\u307e").replace(/\u3086$/,"\u3084").replace(/\u308B$/,"\u3089")+"\u306a\u3044"});else if("\u52a9\u52d5\u8a5e"===i.pos)if("\u305f"===i.surface_form&&r.length>=2){var s=r.length-2,o=r[s];"\u52d5\u8a5e"===o.pos&&["\u3066","\u3044"].includes(o.surface_form)?a.push({index:n,word:"\u306a\u304b\u3063\u305f"}):"\u6765"===o.surface_form?a.push({index:n,word:"\u306a\u3044"}):o.surface_form.endsWith("\u3044")?a.push({index:n,word:"\u3066\u306a\u3044"}):"\u5f62\u5bb9\u8a5e"===o.pos?o.basic_form.endsWith("\u3044")&&a.push({index:s,word:o.basic_form.replace(/\u3044$/,"\u304f\u306a\u304b\u3063")}):"\u52d5\u8a5e"===o.pos&&("\u4e00\u6bb5"===o.conjugated_type?a.push({index:s,word:o.basic_form.replace(/\u308B$/,"\u306a\u304b\u3063")}):o.conjugated_type.startsWith("\u4e94\u6bb5")&&a.push({index:s,word:o.basic_form.replace(/\u3046$/,"\u308f").replace(/\u304F$/,"\u304b").replace(/\u3059$/,"\u3055").replace(/\u3064$/,"\u305f").replace(/\u306C$/,"\u306a").replace(/\u3075$/,"\u306f").replace(/\u3080$/,"\u307e").replace(/\u3086$/,"\u3084").replace(/\u308B$/,"\u3089")+"\u306a\u304b\u3063"}))}else"\u305f\u3044"===i.surface_form?a.push({index:n,word:"\u305f\u304f\u306a\u3044"}):"\u306a\u3044"===i.surface_form?a.push({index:n,word:"\u306a\u304f\u306a\u3044"}):"\u307e\u3059"===i.surface_form&&a.push({index:n,word:"\u307e\u305b\u3093"});else"\u52a9\u8a5e"===i.pos?"\u3066"===i.surface_form&&a.push({index:n,word:"\u306a\u3044"}):"\u540d\u8a5e"===i.pos&&(["\u56fa\u6709\u540d\u8a5e","\u4e00\u822c","\u4ee3\u540d\u8a5e"].includes(i.pos_detail_1)?a.push({index:n,word:i.surface_form+"\u3058\u3083\u306a\u3044"}):["\u30b5\u5909\u63a5\u7d9a","\u63a5\u5c3e"].includes(i.pos_detail_1)&&a.push({index:n,word:i.surface_form+"\u3057\u306a\u3044"}));return r.reduce((function(e,t,r){var n=a.find((function(e){return e.index===r}));return e+(n?n.word:t.surface_form)}),"")}var d=function(){function e(t){Object(o.a)(this,e),this.message=t,this.name="NemuiGachaError","undefined"!==typeof console&&console.error("Name: ".concat(this.name," , Message: ").concat(this.message))}return Object(c.a)(e,[{key:"toString",value:function(){return"Name: ".concat(this.name," , Message: ").concat(this.message)}}]),e}(),f=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).name="InvalidArgumentsError",e}return r}(d),v=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e,a){var n;return Object(o.a)(this,r),(n=t.call(this,e)).message=e,n.originalError=a,n.name="ParseNegativeRuntimeError","undefined"!==typeof console&&console.error(n.originalError),n}return r}(d),g=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(o.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).name="ParseNegativeFailedError",e}return r}(d),E={exec:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===e||null===e||""===e.trim())throw new f("input is null");if(void 0===t||null===t)throw new f("tokenizer is null");var a,n=h(e=e.trim());if(""===n)return e+"\u3058\u3083\u306a\u3044";try{a=p(n,t)}catch(s){throw new v("Failed to parse negative",s)}if(n===a)throw new g("Result text is the same as input text");if(r)return a;var i=Math.random()>=.5;return i?a:n},removeGacha:h,parseNegative:p,NemuiGachaError:d,InvalidArgumentsError:f,ParseNegativeRuntimeError:v,ParseNegativeFailedError:g},b=(r(44),function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).state=void 0,a.onChangeText=function(e){a.setState({input:e.target.value})},a.onChangeCheckbox=function(e){a.setState({isForceNegative:e.target.checked})},a.onSubmit=function(e){e.preventDefault(),a.setState({result:"",error:""}),a.exec()},a.state={input:"\u306d\u3080\u3044",tokenizer:null,isForceNegative:!1,result:"",error:""},a}return Object(c.a)(r,[{key:"componentWillMount",value:function(){var e=this;m.builder({dicPath:"/dict"}).build((function(t,r){if(t)return console.error("Failed to build kuromoji",t);if(e.setState({tokenizer:r}),window.location.search){var a=window.location.search.slice(1).split("&").reduce((function(e,t){var r=t.split("="),a=r[0],n=window.decodeURIComponent(r[1]);return e[a]=n,e}),{});a.force&&e.setState({isForceNegative:!0}),a.q&&(e.setState({input:a.q}),e.exec())}}))}},{key:"exec",value:function(){if(this.state.input.trim())try{var e=E.exec(this.state.input,this.state.tokenizer,this.state.isForceNegative);this.setState({result:e})}catch(t){t instanceof E.InvalidArgumentsError||t instanceof E.ParseNegativeFailedError?this.setState({error:t.message}):t instanceof E.ParseNegativeRuntimeError?this.setState({error:"(Runtime Error) "+t.message}):this.setState({error:"Unexpected Error"})}else this.setState({error:"Please input text"})}},{key:"render",value:function(){var e=n.a.createElement("header",null,n.a.createElement("h1",null,"Nemui Gacha")),t=n.a.createElement("footer",null,n.a.createElement("div",{className:"links"},n.a.createElement("span",null,"Author : ",n.a.createElement("a",{href:"http://neo.s21.xrea.com/",target:"_blank",rel:"noopener noreferrer"},"Neo")),n.a.createElement("span",null,n.a.createElement("a",{href:"https://github.com/Neos21/nemui-gacha-js",target:"_blank",rel:"noopener noreferrer"},"GitHub"))));return this.state.tokenizer?n.a.createElement("div",{className:"app"},e,n.a.createElement("main",null,n.a.createElement("form",{onSubmit:this.onSubmit},n.a.createElement("div",{className:"input-form"},n.a.createElement("input",{type:"text",className:"input",value:this.state.input,onChange:this.onChangeText,placeholder:"\u306d\u3080\u3044"}),n.a.createElement("span",{className:"gacha"},"\u30ac\u30c1\u30e3")),n.a.createElement("div",null,n.a.createElement("button",{type:"submit",className:"submit",onClick:this.onSubmit,disabled:!this.state.input.trim()},"\u30ac\u30c1\u30e3")),n.a.createElement("div",{className:"is-force-negative"},n.a.createElement("input",{type:"checkbox",tabIndex:-1,checked:this.state.isForceNegative,onChange:this.onChangeCheckbox}))),this.state.result&&n.a.createElement("div",{className:"result"},this.state.result),this.state.error&&n.a.createElement("div",{className:"error"},"Error : ",this.state.error)),t):n.a.createElement("div",{className:"app"},e,n.a.createElement("main",{className:"loading"},n.a.createElement("div",null,"Loading...")),t)}}]),r}(n.a.Component));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(b,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.86027a54.chunk.js.map